# Technical Report

## Title
Analyzing Global Tech Talent Migration: A Data-Driven Approach

## Program Context
University of Tehran, Department of Electrical and Computer Engineering (UT-ECE)  
Data Science Final Assessment (Spring 2025)

## 1. Abstract
This project implements a complete, reproducible data science pipeline for predicting `Migration_Status` of technology professionals. The work covers advanced SQL, statistical inference, optimization intuition, non-linear model analysis, unsupervised learning, and explainable AI (XAI). Outputs include a solved SQL artifact, model diagnostics, visual figures, SHAP-based local interpretation, and a grading-ready written key.

## 2. Objectives
- Build a robust end-to-end implementation for Q1-Q6 of the assignment.
- Ensure outputs are reproducible and suitable for teaching-assistant grading.
- Demonstrate both mathematical understanding and engineering execution quality.

## 3. Methods by Assignment Question

### Q1. Data Engineering and Leakage
- Produced a window-function SQL query with 3-year rolling citation average and country-level ranking.
- Evaluated leakage risk by checking `Visa_Approval_Date` availability versus target behavior.

### Q2. Statistical Inference and Elastic Net
- Documented Elastic Net gradient derivation including L1 subgradient at zero.
- Interpreted significance from coefficient, p-value, and confidence interval.

### Q3. Optimization
- Simulated SGD, Momentum, and Adam trajectories in a synthetic ravine objective.
- Visualized convergence behavior and compared final objective values.

### Q4. Non-Linear Models
- Ran RBF-SVM gamma sweep to demonstrate overfitting control (`gamma` effect).
- Performed decision-tree cost-complexity pruning and selected best `ccp_alpha`.

### Q5. Unsupervised Learning
- Computed PCA explained-variance ratios on standardized numeric features.
- Used WCSS + elbow curvature heuristic to estimate suitable cluster count.

### Q6. Capstone Explainability
- Trained a tree ensemble (XGBoost when available; RandomForest fallback).
- Generated candidate-level SHAP force/waterfall explanation.
- Produced global feature-importance figure and country-slice fairness summary.

## 4. Reproducible Outputs
Generated by `scripts/full_solution_pipeline.py`:
- `solutions/q1_moving_average.sql`
- `solutions/complete_solution_key.md`
- `solutions/run_summary.json`
- `solutions/q6_fairness_country_rates.csv`
- `figures/q3_ravine_optimizers.png`
- `figures/q4_svm_gamma_sweep.png`
- `figures/q4_tree_pruning_curve.png`
- `figures/q5_kmeans_elbow.png`
- `figures/q6_shap_force_plot.png`
- `figures/q6_shap_summary.png`

## 5. Latest Run Snapshot
See `solutions/run_summary.json` for exact metrics and environment-dependent details.

Core reported fields:
- model accuracy / ROC-AUC / F1
- optimizer final losses (Q3)
- SVM best gamma and pruning best alpha (Q4)
- PCA variance ratios and elbow K (Q5)
- SHAP candidate explanation metadata (Q6)

## 6. Ethical and Fairness Considerations
This task predicts migration-related outcomes where historical policy and geopolitical factors may induce embedded bias. To avoid overclaiming causal effects:
- model outputs are treated as predictive signals, not causal truth
- fairness slices by `Country_Origin` are exported for audit
- leakage checks are enforced before modeling

## 7. Limitations
- Dataset columns may omit key sociopolitical confounders.
- Fallback model is used when `xgboost` is unavailable.
- SHAP explanations are local and descriptive, not causal.

## 8. Conclusion
The project satisfies the assignment as a full lifecycle implementation: engineering, inference, optimization reasoning, non-linear modeling, clustering, and explainability, packaged with reproducibility and grading artifacts suitable for university-level evaluation.
